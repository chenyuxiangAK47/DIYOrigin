# 文档整理说明

本目录包含 OriginSystemMod 的所有文档，按类别分类整理。

## 📁 目录结构

### 问题分析/
包含所有问题分析和诊断文档：
- `问题分析_位置设置类型转换失败_给ChatGPT.md` - **最新问题，需要 ChatGPT 帮助**
- `问题分析_位置设置失败_最新日志分析.md`
- `问题分析_位置设置失败_Position2D不存在.md`
- `问题分析_OnSessionLaunched过早调用.md`
- `问题分析_ResetState过早调用导致状态清空.md`
- `问题分析_战奴逃亡出生位置失败_完整日志分析.md`
- `问题分析_战奴逃亡出生位置失败.md`
- `问题分析_战奴逃亡路由失败.md`
- 其他问题分析文档...

### 修复总结/
包含所有修复总结和说明文档：
- `修复总结_2025-12-24.md`
- `修复总结_完整版.md`
- `修复总结_按old-good版本恢复.md`
- `修复总结_逃奴出生位置.md`
- `修复说明_*.md`
- 其他修复文档...

### 实现说明/
包含所有实现说明和进度文档：
- `实现总结.md`
- `非预设出身系统实现总结.md`
- `预设出身效果应用说明.md`
- `库塞特预设出身完整实现说明.md`
- `拆分进度_*.md`
- 其他实现文档...

### 开发规范/
包含开发规范和指导文档：
- `必读_错误教训和开发规则.md`
- `给Cursor的硬性指令.md`
- `给Cursor的改进要求.md`
- 其他规范文档...

## 📝 当前问题

**最新问题：** `问题分析_位置设置类型转换失败_给ChatGPT.md`

**问题描述：** `MobileParty.Position2D` 属性需要 `CampaignVec2` 类型，但我们传入的是 `Vec2` 类型，导致类型转换失败。

**修复状态：** ✅ **已修复** (2024-12-19)
- 按照 ChatGPT 建议，使用 `CampaignVec2 + Vec2` 运算符进行偏移操作
- 添加了参数类型自证日志（`setter paramType` 和 `argType`）
- 编译通过（0 errors, 0 warnings）

**修复内容：**
1. 将 `position` 变量从 `Vec2` 改为 `CampaignVec2`
2. 使用 `CampaignVec2 + Vec2` 运算符进行偏移（`settlementPos + new Vec2(0f, southOffset)`）
3. 在 invoke 前添加参数类型日志
4. 确保所有 setter 调用都传入 `CampaignVec2` 类型

## 🔍 快速查找

- **查找问题分析：** 查看 `问题分析/` 目录
- **查找修复方案：** 查看 `修复总结/` 目录
- **查找实现说明：** 查看 `实现说明/` 目录
- **查找开发规范：** 查看 `开发规范/` 目录


