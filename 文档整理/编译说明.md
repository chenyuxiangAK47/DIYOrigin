# 编译说明

## 快速编译

### 方法 1：使用批处理文件（推荐）

双击运行：
```
编译命令.bat
```

### 方法 2：使用 PowerShell 脚本

在 PowerShell 中运行：
```powershell
.\编译命令.ps1
```

### 方法 3：手动编译

在项目根目录（`OriginSystemMod`）打开 PowerShell 或命令提示符，执行：

```powershell
cd "d:\SteamLibrary\steamapps\common\Mount & Blade II Bannerlord\Modules\OriginSystemMod"
dotnet build "OriginSystemMod.csproj" -c Release --no-incremental
```

## 编译输出

编译成功后，DLL 文件位置：
```
OriginSystemMod\bin\Win64_Shipping_Client\OriginSystemMod.dll
```

## 确认 DLL 已部署

编译完成后，确认 DLL 已正确部署到游戏目录：
```
D:\SteamLibrary\steamapps\common\Mount & Blade II Bannerlord\Modules\OriginSystemMod\bin\Win64_Shipping_Client\OriginSystemMod.dll
```

**注意**：如果游戏 Mod 目录的 DLL 与编译输出目录的 DLL 不同步，需要手动复制。

## 常见问题

### 1. 编译失败：找不到 dotnet

**解决方法**：
- 安装 .NET SDK
- 或使用 Visual Studio 的 MSBuild

### 2. 编译失败：编码错误

**解决方法**：
- 确保所有 `.cs` 文件使用 UTF-8 编码
- 检查中文字符是否正确显示

### 3. 编译成功但游戏未加载 Mod

**解决方法**：
- 确认 DLL 已部署到游戏目录
- 检查 `SubModule.xml` 配置是否正确
- 查看游戏日志确认 Mod 是否加载

---

**编译完成后，请重新运行游戏并测试！**








