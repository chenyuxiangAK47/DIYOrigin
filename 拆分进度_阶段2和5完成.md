# ä»£ç æ‹†åˆ†è¿›åº¦ - é˜¶æ®µ2å’Œ5å®Œæˆ

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### é˜¶æ®µ2: èœå•å·¥å‚æ‹†åˆ† - OriginTypeSelection
1. âœ… åˆ›å»ºäº† `Menus/OriginTypeSelectionMenu.cs`
   - ç§»åŠ¨äº† `CreateOriginTypeSelectionMenu`
   - ç§»åŠ¨äº† `GetOriginTypeMenuCharacterArgs`
   - ç§»åŠ¨äº†æ‰€æœ‰ç›¸å…³çš„ Args/OnCondition/OnSelect æ–¹æ³•

### é˜¶æ®µ5: è·¯ç”±é€»è¾‘æ‹†åˆ†
1. âœ… åˆ›å»ºäº† `Routing/OriginMenuRouter.cs`
   - ç§»åŠ¨äº† `ResolveNextMenuId` æ–¹æ³•
   - ç§»åŠ¨äº† `DumpCandidates` æ–¹æ³•
   - ä½¿ç”¨è·¯ç”±è¡¨æ›¿ä»£ç¡¬ç¼–ç é€»è¾‘

2. âœ… åˆ›å»ºäº† `Routing/OriginRoutes.Khuzait.cs`
   - é¢„è®¾å‡ºèº«è·¯ç”±è¡¨ï¼ˆæ•°æ®åŒ–ï¼‰
   - èŠ‚ç‚¹æµè½¬è§„åˆ™ï¼ˆDictionaryæ˜ å°„ï¼‰

3. âœ… åˆ›å»ºäº† `Routing/OriginRoutes.NonPreset.cs`
   - éé¢„è®¾å‡ºèº«è·¯ç”±è¡¨
   - é£å‘³èŠ‚ç‚¹æ˜ å°„

4. âœ… åˆ›å»ºäº† `Patches/TrySwitchToNextMenuPatch.cs`
   - ç§»åŠ¨äº†æ•´ä¸ª `TrySwitchToNextMenuPatch` ç±»
   - æ›´æ–°äº†å¼•ç”¨ï¼ˆä½¿ç”¨ OriginMenuRouter å’Œ ReflectionUtilï¼‰

5. âœ… åˆ›å»ºäº† `Util/ReflectionUtil.cs`
   - ç§»åŠ¨äº† `TrySetCurrentMenuByReflection` æ–¹æ³•
   - ç§»åŠ¨äº† `InvokeModifyMenuCharacters` æ–¹æ³•

## ğŸ“ å½“å‰æ–‡ä»¶ç»“æ„

```
SubModule/
â”œâ”€â”€ OriginSystemPatches.cs (ä¸»æ–‡ä»¶ï¼Œpartial classï¼Œå·²å¤§å¹…ç²¾ç®€)
â”œâ”€â”€ Util/
â”‚   â”œâ”€â”€ OriginLog.cs âœ…
â”‚   â””â”€â”€ ReflectionUtil.cs âœ…
â”œâ”€â”€ Patches/
â”‚   â”œâ”€â”€ AddParentsMenuPatch.cs âœ…
â”‚   â””â”€â”€ TrySwitchToNextMenuPatch.cs âœ…
â”œâ”€â”€ Menus/
â”‚   â””â”€â”€ OriginTypeSelectionMenu.cs âœ…
â””â”€â”€ Routing/
    â”œâ”€â”€ OriginMenuRouter.cs âœ…
    â”œâ”€â”€ OriginRoutes.Khuzait.cs âœ…
    â””â”€â”€ OriginRoutes.NonPreset.cs âœ…
```

## âœ… éªŒè¯ç»“æœ

- âœ… æ— ç¼–è¯‘é”™è¯¯
- âœ… æ—  Linter é”™è¯¯
- âœ… åŠŸèƒ½ä¿æŒä¸å˜ï¼ˆé€šè¿‡ partial class å®ç°ï¼‰

## ğŸ“ ä¸‹ä¸€æ­¥

å‰©ä½™å·¥ä½œï¼š
- **é˜¶æ®µ3**: é¢„è®¾å‡ºèº«èœå•æ‹†åˆ†ï¼ˆ10ä¸ªå‡ºèº«ï¼Œæ¯ä¸ª1ä¸ªæ–‡ä»¶ï¼‰
- **é˜¶æ®µ4**: éé¢„è®¾èœå•æ‹†åˆ†ï¼ˆ7ä¸ªæ ¸å¿ƒèœå• + 7ä¸ªè§’è‰²èœå•ï¼‰
- **é˜¶æ®µ6**: æ–‡æœ¬é›†ä¸­ç®¡ç†ï¼ˆå¯é€‰ï¼Œé™ä½ç¼–ç é”™è¯¯ï¼‰

---

**å®Œæˆæ—¶é—´**: 2024å¹´
**çŠ¶æ€**: âœ… é˜¶æ®µ1ã€2ã€5å®Œæˆï¼Œå¯ä»¥ç»§ç»­é˜¶æ®µ3å’Œ4














































