# OriginSystemMod 编译命令

## 方法1：在 Developer PowerShell for VS 2022 中运行

打开 "Developer PowerShell for VS 2022"，然后运行以下命令：

```powershell
cd "D:\SteamLibrary\steamapps\common\Mount & Blade II Bannerlord\Modules\OriginSystemMod"
msbuild OriginSystemMod.csproj /p:Configuration=Release /p:Platform=x64 /nologo /v:minimal
```

## 方法2：使用完整路径的 MSBuild

如果方法1失败，使用完整路径：

```powershell
cd "D:\SteamLibrary\steamapps\common\Mount & Blade II Bannerlord\Modules\OriginSystemMod"
& "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\MSBuild\Current\Bin\MSBuild.exe" OriginSystemMod.csproj /p:Configuration=Release /p:Platform=x64 /nologo /v:minimal
```

## 方法3：如果 BuildTools 路径不对，查找 MSBuild

```powershell
# 查找 MSBuild
$msbuildPaths = @(
    "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\MSBuild\Current\Bin\MSBuild.exe",
    "C:\Program Files (x86)\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\MSBuild.exe",
    "C:\Program Files (x86)\Microsoft Visual Studio\2022\Professional\MSBuild\Current\Bin\MSBuild.exe",
    "C:\Program Files (x86)\Microsoft Visual Studio\2022\Enterprise\MSBuild\Current\Bin\MSBuild.exe"
)

$msbuild = $null
foreach ($path in $msbuildPaths) {
    if (Test-Path $path) {
        $msbuild = $path
        Write-Host "Found MSBuild at: $msbuild"
        break
    }
}

if ($msbuild) {
    cd "D:\SteamLibrary\steamapps\common\Mount & Blade II Bannerlord\Modules\OriginSystemMod"
    & $msbuild OriginSystemMod.csproj /p:Configuration=Release /p:Platform=x64 /nologo /v:minimal
} else {
    Write-Host "MSBuild not found. Please install Visual Studio Build Tools or Visual Studio."
}
```

## 编译成功后

编译成功后，DLL 文件应该在：
```
D:\SteamLibrary\steamapps\common\Mount & Blade II Bannerlord\Modules\OriginSystemMod\bin\Win64_Shipping_Client\OriginSystemMod.dll
```

## 检查编译结果

```powershell
if (Test-Path "bin\Win64_Shipping_Client\OriginSystemMod.dll") {
    Write-Host "编译成功！DLL 位置: bin\Win64_Shipping_Client\OriginSystemMod.dll"
    Get-Item "bin\Win64_Shipping_Client\OriginSystemMod.dll" | Select-Object Name, Length, LastWriteTime
} else {
    Write-Host "编译失败：找不到 DLL 文件"
}
```


























































